#!/usr/bin/env python
# -*- coding: utf-8 -*-
#
# <xbar.title>Show hidden files in Finder</xbar.title>
# <xbar.version>v0.2</xbar.version>
# <xbar.author>Thomas Kurz</xbar.author>
# <xbar.author.github>dashorty</xbar.author.github>
# <xbar.desc>Show hidden files in Finder</xbar.desc>
# <xbar.image>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</xbar.image>
# <xbar.abouturl>https://github.com/dashorty/bitbar-showhide-files</xbar.abouturl>

import sys
import os

if len(sys.argv) == 1:
    print "| templateImage=iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAQAAABKfvVzAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfiAwIWGC2lnrmcAAAA8UlEQVQ4y92SMW7CUBBEX9JZQikxDVS0VKShceEbcBkkDhHREwquQIm4ABUHQOIAlKZCisJLE+z/bUeK6JLp/uxo/87uwL+FXbu/E45derBQtfDg0vHP4ql777hZYe+0Ke64LgUbcxNTM3clt7YTykcey9IsajQv+aOjOzn0XHUHsO+bKycAwS9nh4A9T8G8OTjwquqnEzALqid7uA2Imwm4KN8rMDXE9jny/sQLUNkrgAvG+4lHysBXP1S92gfz2kg107vv8727cADgpma6sdZ59P+sZa2Nw+3MTE3Mg+7x4VqiEYajLRoPhe+heP9JfAEpl32XjyFcEgAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0wMy0wMlQyMjoyNDo0NSswMTowMFm39GAAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMDMtMDJUMjI6MjQ6NDUrMDE6MDAo6kzcAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAABJRU5ErkJggg=="
    print '---'
    print 'show hidden files | terminal=false bash=%s param1=show' % sys.argv[0]
    print 'hide hidden files | terminal=false bash=%s param1=hide' % sys.argv[0]
    print '---'
    print 'show desktop icons | terminal=false bash=%s param1=showicn' % sys.argv[0]
    print 'hide desktop icons | terminal=false bash=%s param1=hideicn' % sys.argv[0]
elif sys.argv[1] == 'show':
    os.system('defaults write com.apple.finder AppleShowAllFiles YES && killall Finder')
elif sys.argv[1] == 'hide':
    os.system('defaults write com.apple.finder AppleShowAllFiles NO && killall Finder')
elif sys.argv[1] == 'showicn':
    os.system('defaults write com.apple.finder CreateDesktop YES && killall Finder')
elif sys.argv[1] == 'hideicn':
    os.system('defaults write com.apple.finder CreateDesktop NO && killall Finder')

