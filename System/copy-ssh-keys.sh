#!/bin/bash

# <xbar.title>Copy SSH keys</xbar.title>
# <xbar.version>v1.0</xbar.version>
# <xbar.author>Bastian Kersting</xbar.author>
# <xbar.author.github>1c3t3a</xbar.author.github>
# <xbar.desc>Provides a quick way to copy your public keys to the clipboard</xbar.desc>
# <xbar.image>PCFkb2N0eXBlIGh0bWw+IDxodG1sIGxhbmc9ImVuIj4gPGhlYWQ+IDxtZXRhIGNoYXJzZXQ9InV0Zi04Ij4gPG1ldGEgbmFtZT0idmlld3BvcnQiIGNvbnRlbnQ9IndpZHRoPWRldmljZS13aWR0aCxpbml0aWFsLXNjYWxlPTEiPiA8bWV0YSBuYW1lPSJkZXNjcmlwdGlvbiIgY29udGVudD0iRmluZCwgcmF0ZSBhbmQgc2hhcmUgdGhlIGJlc3QgbWVtZXMgYW5kIGltYWdlcy4gRGlzY292ZXIgdGhlIG1hZ2ljIG9mIHRoZSBJbnRlcm5ldCBhdCBJbWd1ci4iIGRhdGEtcmVhY3QtaGVsbWV0PSJ0cnVlIi8+IDxtZXRhIG5hbWU9ImNvcHlyaWdodCIgY29udGVudD0iQ29weXJpZ2h0IDIwMjIgSW1ndXIsIEluYy4iLz4gPGxpbmsgcmVsPSJpY29uIiB0eXBlPSJpbWFnZS9wbmciIGhyZWY9Imh0dHBzOi8vcy5pbWd1ci5jb20vaW1hZ2VzL2Zhdmljb24tMzJ4MzIucG5nIiBzaXplcz0iMzJ4MzIiPiA8bGluayByZWw9Imljb24iIHR5cGU9ImltYWdlL3BuZyIgaHJlZj0iaHR0cHM6Ly9zLmltZ3VyLmNvbS9pbWFnZXMvZmF2aWNvbi05Nng5Ni5wbmciIHNpemVzPSI5Nng5NiI+IDxsaW5rIHJlbD0iaWNvbiIgdHlwZT0iaW1hZ2UvcG5nIiBocmVmPSJodHRwczovL3MuaW1ndXIuY29tL2ltYWdlcy9mYXZpY29uLTE2eDE2LnBuZyIgc2l6ZXM9IjE2eDE2Ij4gPGxpbmsgcmVsPSJhcHBsZS10b3VjaC1pY29uLXByZWNvbXBvc2VkIiBocmVmPSJodHRwczovL3MuaW1ndXIuY29tL2ltYWdlcy9mYXZpY29uLTE1Mi5wbmciPiA8bWV0YSBuYW1lPSJtc2FwcGxpY2F0aW9uLVRpbGVDb2xvciIgY29udGVudD0iIzJjZDYzYyI+IDxtZXRhIG5hbWU9Im1zYXBwbGljYXRpb24tVGlsZUltYWdlIiBjb250ZW50PSJodHRwczovL3MuaW1ndXIuY29tL2ltYWdlcy9mYXZpY29uLTE0NC5wbmciPiA8bGluayByZWw9ImFsdGVybmF0ZSIgbWVkaWE9Im9ubHkgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA2NDBweCkiIGhyZWY9Imh0dHBzOi8vbS5pbWd1ci5jb20vIj4gPG1ldGEgbmFtZT0icDpkb21haW5fdmVyaWZ5IiBjb250ZW50PSI4MzQ1NTQ1MjE3NjU0MDhiOWVmZmRjNzU4YjY5YzVlZSIvPiA8bWV0YSBwcm9wZXJ0eT0ib2c6c2l0ZV9uYW1lIiBjb250ZW50PSJJbWd1ciIvPiA8bWV0YSBwcm9wZXJ0eT0iZmI6YWRtaW5zIiBjb250ZW50PSIxMjMzMTQ5MiIvPiA8bWV0YSBwcm9wZXJ0eT0iZmI6YWRtaW5zIiBjb250ZW50PSIxMjMwMTM2OSIvPiA8bWV0YSBwcm9wZXJ0eT0iZmI6YXBwX2lkIiBjb250ZW50PSIxMjc2MjE0MzczMDM4NTciLz4gPG1ldGEgcHJvcGVydHk9ImFsOmFuZHJvaWQ6dXJsIiBjb250ZW50PSJpbWd1cjovL2ltZ3VyLmNvbS8/ZnJvbT1mYnJlZmVycmFsIi8+IDxtZXRhIHByb3BlcnR5PSJhbDphbmRyb2lkOmFwcF9uYW1lIiBjb250ZW50PSJJbWd1ciIvPiA8bWV0YSBwcm9wZXJ0eT0iYWw6YW5kcm9pZDpwYWNrYWdlIiBjb250ZW50PSJjb20uaW1ndXIubW9iaWxlIi8+IDxtZXRhIHByb3BlcnR5PSJhbDppb3M6dXJsIiBjb250ZW50PSJpbWd1cjovL2ltZ3VyLmNvbS8/ZnJvbT1mYnJlZmVycmFsIi8+IDxtZXRhIHByb3BlcnR5PSJhbDppb3M6YXBwX3N0b3JlX2lkIiBjb250ZW50PSI2Mzk4ODE0OTUiLz4gPG1ldGEgcHJvcGVydHk9ImFsOmlvczphcHBfbmFtZSIgY29udGVudD0iSW1ndXIiLz4gPG1ldGEgcHJvcGVydHk9ImFsOndlYjp1cmwiIGNvbnRlbnQ9Imh0dHBzOi8vaW1ndXIuY29tLyIvPiA8bWV0YSBuYW1lPSJ0d2l0dGVyOnNpdGUiIGNvbnRlbnQ9IkBpbWd1ciIvPiA8bWV0YSBuYW1lPSJ0d2l0dGVyOmRvbWFpbiIgY29udGVudD0iaW1ndXIuY29tIi8+IDxtZXRhIG5hbWU9InR3aXR0ZXI6YXBwOmlkOmdvb2dsZXBsYXkiIGNvbnRlbnQ9ImNvbS5pbWd1ci5tb2JpbGUiLz4gPG1ldGEgcHJvcGVydHk9ImF1dGhvciIgY29udGVudD0iSW1ndXIiLz4gPG1ldGEgcHJvcGVydHk9ImFydGljbGU6YXV0aG9yIiBjb250ZW50PSJJbWd1ciIvPiA8bWV0YSBwcm9wZXJ0eT0iYXJ0aWNsZTpwdWJsaXNoZXIiIGNvbnRlbnQ9Imh0dHBzOi8vd3d3LmZhY2Vib29rLmNvbS9pbWd1ciI+IDx0aXRsZT5JbWd1cjogVGhlIG1hZ2ljIG9mIHRoZSBJbnRlcm5ldDwvdGl0bGU+PG1ldGEgcHJvcGVydHk9Im9nOnVybCIgZGF0YS1yZWFjdC1oZWxtZXQ9InRydWUiIGNvbnRlbnQ9Imh0dHBzOi8vaW1ndXIuY29tL0dZT3VMSjEiPjxtZXRhIG5hbWU9InR3aXR0ZXI6aW1hZ2UiIGRhdGEtcmVhY3QtaGVsbWV0PSJ0cnVlIiBjb250ZW50PSJodHRwczovL2kuaW1ndXIuY29tL0dZT3VMSjFoLmpwZyI+PGxpbmsgcmVsPSJhbHRlcm5hdGUiIHR5cGU9ImFwcGxpY2F0aW9uL2pzb24rb2VtYmVkIiBocmVmPSJodHRwczovL2FwaS5pbWd1ci5jb20vb2VtYmVkLmpzb24/dXJsPWh0dHBzOi8vaW1ndXIuY29tL0dZT3VMSjEiIHRpdGxlPSJJbWd1cjogVGhlIG1hZ2ljIG9mIHRoZSBJbnRlcm5ldCI+PGxpbmsgcmVsPSJhbHRlcm5hdGUiIHR5cGU9ImFwcGxpY2F0aW9uL3htbCtvZW1iZWQiIGhyZWY9Imh0dHBzOi8vYXBpLmltZ3VyLmNvbS9vZW1iZWQueG1sP3VybD1odHRwczovL2ltZ3VyLmNvbS9HWU91TEoxIiB0aXRsZT0iSW1ndXI6IFRoZSBtYWdpYyBvZiB0aGUgSW50ZXJuZXQiPjxtZXRhIHJlbD0iY2Fub25pY2FsIiBocmVmPSJodHRwczovL2ltZ3VyLmNvbS9HWU91TEoxIj48bWV0YSBwcm9wZXJ0eT0ib2c6aW1hZ2U6d2lkdGgiIGRhdGEtcmVhY3QtaGVsbWV0PSJ0cnVlIiBjb250ZW50PSI2MDAiPjxtZXRhIHByb3BlcnR5PSJvZzppbWFnZTpoZWlnaHQiIGRhdGEtcmVhY3QtaGVsbWV0PSJ0cnVlIiBjb250ZW50PSIzMTUiPjxtZXRhIHByb3BlcnR5PSJvZzppbWFnZSIgZGF0YS1yZWFjdC1oZWxtZXQ9InRydWUiIGNvbnRlbnQ9Imh0dHBzOi8vaS5pbWd1ci5jb20vR1lPdUxKMS5wbmc/ZmIiPjxtZXRhIHByb3BlcnR5PSJvZzp0eXBlIiBkYXRhLXJlYWN0LWhlbG1ldD0idHJ1ZSIgY29udGVudD0iYXJ0aWNsZSI+PG1ldGEgbmFtZT0idHdpdHRlcjpjYXJkIiBkYXRhLXJlYWN0LWhlbG1ldD0idHJ1ZSIgY29udGVudD0ic3VtbWFyeV9sYXJnZV9pbWFnZSI+PG1ldGEgbmFtZT0idHdpdHRlcjp0aXRsZSIgZGF0YS1yZWFjdC1oZWxtZXQ9InRydWUiIGNvbnRlbnQ9ImltZ3VyLmNvbSI+PG1ldGEgbmFtZT0idHdpdHRlcjpkZXNjcmlwdGlvbiIgZGF0YS1yZWFjdC1oZWxtZXQ9InRydWUiIGNvbnRlbnQ9IkltZ3VyOiBUaGUgbWFnaWMgb2YgdGhlIEludGVybmV0Ij48bWV0YSBwcm9wZXJ0eT0ib2c6dGl0bGUiIGRhdGEtcmVhY3QtaGVsbWV0PSJ0cnVlIiBjb250ZW50PSJpbWd1ci5jb20iPjxtZXRhIHByb3BlcnR5PSJvZzpkZXNjcmlwdGlvbiIgZGF0YS1yZWFjdC1oZWxtZXQ9InRydWUiIGNvbnRlbnQ9IkltZ3VyOiBUaGUgbWFnaWMgb2YgdGhlIEludGVybmV0Ij4gPHNjcmlwdCBzcmM9Imh0dHBzOi8vanMubWVkaWEtbGFiLmFpL2FuYS1zZW50cnkuanMiIGRhdGEtYW5hLXNlbnRyeT0idHJ1ZSIgZGF0YS1kc249Imh0dHBzOi8vMzYwYjkyOWZkYWY4NGMxNTg1MjkyMDkwMWMwMGZhM2NAbzQzNTM1Ny5pbmdlc3Quc2VudHJ5LmlvLzU5OTE5MDciIGRhdGEtcmVsZWFzZT0iaW1ndXJAMi4wLjgiPjwvc2NyaXB0PiA8c2NyaXB0IGFzeW5jIHNyYz0iaHR0cHM6Ly9qcy5tZWRpYS1sYWIuYWkvd2FuYS4yLjIuMy5qcyI+PC9zY3JpcHQ+IDxzY3JpcHQ+IWZ1bmN0aW9uKHQsZSl7ZnVuY3Rpb24gbigpeyhuLnE9bi5xfHxbXSkucHVzaChhcmd1bWVudHMpfW4udj0xLHRbZV09dFtlXXx8bn0od2luZG93LFN0cmluZy5mcm9tQ2hhckNvZGUoOTcsMTAwLDEwOSwxMDUsMTE0LDk3LDEwOCkpLGZ1bmN0aW9uKHQsZSxuKXtuPXQuY3JlYXRlRWxlbWVudChlKSx0PXQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoZSlbMF0sbi5hc3luYz0xLG4uc3JjPSJodHRwczovL3N0cmV0Y2hzcXVpcnJlbC5jb20vdjJ2dmxBZm1LM3FZODlnVVJPTEtZdkFYSllhM1BiaHNPbGZyYlJ0bncxdjVudkgtUnBlVllsamMiLHQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUobix0KX0oZG9jdW1lbnQsInNjcmlwdCIpLGZ1bmN0aW9uKGUsbix0LGMpe2Z1bmN0aW9uIHIodCl7KGZ1bmN0aW9uKCl7dHJ5e3JldHVybiAwPChsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidjRhYzFlaVpyMCIpfHwiIikuc3BsaXQoIiwiKVs0XX1jYXRjaCh0KXt9cmV0dXJuITF9KSgpJiYodD1lW25dLnB1YmFkcygpKSYmdC5zZXRUYXJnZXRpbmcoImFkbWlyYWwtZW5nYWdlZCIsInRydWUiKX0oYz1lW25dPWVbbl18fHt9KS5jbWQ9Yy5jbWR8fFtdLHR5cGVvZiBjLnB1YmFkcz09PXQ/cigpOnR5cGVvZiBjLmNtZC51bnNoaWZ0PT09dD9jLmNtZC51bnNoaWZ0KHIpOmMuY21kLnB1c2gocil9KHdpbmRvdywiZ29vZ2xldGFnIiwiZnVuY3Rpb24iKTwvc2NyaXB0PiA8c2NyaXB0PmRhdGFMYXllcj1bXTt2YXIgcGJqcz1wYmpzfHx7fTtwYmpzLnF1ZT1wYmpzLnF1ZXx8W108L3NjcmlwdD4gPHNjcmlwdD53aW5kb3cuZ2E9d2luZG93LmdhfHxmdW5jdGlvbigpeyhnYS5xPWdhLnF8fFtdKS5wdXNoKGFyZ3VtZW50cyl9LGdhLmw9K25ldyBEYXRlLGdhKCJjcmVhdGUiLCJVQS02NjcxOTA4LTIiLCJhdXRvIik8L3NjcmlwdD4gPHNjcmlwdCBhc3luYyBzcmM9Imh0dHBzOi8vd3d3Lmdvb2dsZS1hbmFseXRpY3MuY29tL2FuYWx5dGljcy5qcyI+PC9zY3JpcHQ+IDxzY3JpcHQgYXN5bmM9InRydWUiPiFmdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoInNjcmlwdCIpLHQ9ZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInNjcmlwdCIpWzBdLG49Imh0dHBzOi8vcXVhbnRjYXN0Lm1nci5jb25zZW5zdS5vcmciLmNvbmNhdCgiL2Nob2ljZS8iLCI2MVU1Q3k4bi1ENVUwIiwiLyIsImltZ3VyLmNvbSIsIi9jaG9pY2UuanMiKSxpPTA7ZS5hc3luYz0hMCxlLnR5cGU9InRleHQvamF2YXNjcmlwdCIsZS5zcmM9bixlLm9ubG9hZD1mdW5jdGlvbigpe3ZhciBlPWRvY3VtZW50LmNyZWF0ZUV2ZW50KCJFdmVudCIpO2UuaW5pdEV2ZW50KCJjbXBMb2FkZWQiLCEwLCEwKSx3aW5kb3cuZGlzcGF0Y2hFdmVudChlKX0sdC5wYXJlbnROb2RlLmluc2VydEJlZm9yZShlLHQpLGZ1bmN0aW9uKCl7Zm9yKHZhciBlLGE9Il9fdGNmYXBpTG9jYXRvciIsaT1bXSxvPXdpbmRvdztvOyl7dHJ5e2lmKG8uZnJhbWVzW2FdKXtlPW87YnJlYWt9fWNhdGNoKGUpe31pZihvPT09d2luZG93LnRvcClicmVhaztvPW8ucGFyZW50fWV8fChmdW5jdGlvbiBlKCl7dmFyIHQ9by5kb2N1bWVudCxuPSEhby5mcmFtZXNbYV07aWYoIW4paWYodC5ib2R5KXt2YXIgaT10LmNyZWF0ZUVsZW1lbnQoImlmcmFtZSIpO2kuc3R5bGUuY3NzVGV4dD0iZGlzcGxheTpub25lIixpLm5hbWU9YSx0LmJvZHkuYXBwZW5kQ2hpbGQoaSl9ZWxzZSBzZXRUaW1lb3V0KGUsNSk7cmV0dXJuIW59KCksby5fX3RjZmFwaT1mdW5jdGlvbigpe3ZhciBlLHQ9YXJndW1lbnRzO2lmKCF0Lmxlbmd0aClyZXR1cm4gaTtpZigic2V0R2RwckFwcGxpZXMiPT09dFswXSkzPHQubGVuZ3RoJiYyPT09dFsyXSYmImJvb2xlYW4iPT10eXBlb2YgdFszXSYmKGU9dFszXSwiZnVuY3Rpb24iPT10eXBlb2YgdFsyXSYmdFsyXSgic2V0IiwhMCkpO2Vsc2UgaWYoInBpbmciPT09dFswXSl7dmFyIG49e2dkcHJBcHBsaWVzOmUsY21wTG9hZGVkOiExLGNtcFN0YXR1czoic3R1YiJ9OyJmdW5jdGlvbiI9PXR5cGVvZiB0WzJdJiZ0WzJdKG4pfWVsc2UgaS5wdXNoKHQpfSxvLmFkZEV2ZW50TGlzdGVuZXIoIm1lc3NhZ2UiLGZ1bmN0aW9uKGkpe3ZhciBhPSJzdHJpbmciPT10eXBlb2YgaS5kYXRhLGU9e307dHJ5e2U9YT9KU09OLnBhcnNlKGkuZGF0YSk6aS5kYXRhfWNhdGNoKGUpe312YXIgbz1lLl9fdGNmYXBpQ2FsbDtvJiZ3aW5kb3cuX190Y2ZhcGkoby5jb21tYW5kLG8udmVyc2lvbixmdW5jdGlvbihlLHQpe3ZhciBuPXtfX3RjZmFwaVJldHVybjp7cmV0dXJuVmFsdWU6ZSxzdWNjZXNzOnQsY2FsbElkOm8uY2FsbElkfX07YSYmKG49SlNPTi5zdHJpbmdpZnkobikpLGkuc291cmNlLnBvc3RNZXNzYWdlKG4sIioiKX0sby5wYXJhbWV0ZXIpfSwhMSkpfSgpO3ZhciBhPWZ1bmN0aW9uKCl7dmFyIGU9YXJndW1lbnRzO3R5cGVvZiB3aW5kb3cuX191c3BhcGkhPT1hJiZzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7dm9pZCAwIT09d2luZG93Ll9fdXNwYXBpJiZ3aW5kb3cuX191c3BhcGkuYXBwbHkod2luZG93Ll9fdXNwYXBpLGUpfSw1MDApfTtpZih2b2lkIDA9PT13aW5kb3cuX191c3BhcGkpe3dpbmRvdy5fX3VzcGFwaT1hO3ZhciBvPXNldEludGVydmFsKGZ1bmN0aW9uKCl7aSsrLHdpbmRvdy5fX3VzcGFwaT09PWEmJmk8Mz9jb25zb2xlLndhcm4oIlVTUCBpcyBub3QgYWNjZXNzaWJsZSIpOmNsZWFySW50ZXJ2YWwobyl9LDZlMyl9fSgpLCJmdW5jdGlvbiI9PXR5cGVvZiB3aW5kb3cuX191c3BhcGkmJndpbmRvdy5fX3VzcGFwaSgidXNwUGluZyIsMSxmdW5jdGlvbihlLHQpe3QmJmUubW9kZS5pbmNsdWRlcygiVVNQIikmJmUuanVyaXNkaWN0aW9uLmluY2x1ZGVzKGUubG9jYXRpb24udG9VcHBlckNhc2UoKSkmJndpbmRvdy5fX3VzcGFwaSgic2V0VXNwRGZ0RGF0YSIsMSxmdW5jdGlvbihlLHQpe3R8fGNvbnNvbGUubG9nKCJFcnJvcjogVVNQIHN0cmluZyBub3QgdXBkYXRlZCEiKX0pfSk8L3NjcmlwdD4gPHNjcmlwdCBzcmM9Imh0dHBzOi8vYnRsb2FkZXIuY29tL3RhZz9vPTYyODI4Mzc5MDk1Njk1MzYmdXBhcGk9dHJ1ZSIgYXN5bmM+PC9zY3JpcHQ+IDxsaW5rIGhyZWY9Imh0dHBzOi8vcy5pbWd1ci5jb20vZGVza3RvcC1hc3NldHMvY3NzL3N0eWxlcy5kOGIzYTVlNjE0YmQ1OWFiM2RhZS5jc3MiIHJlbD0ic3R5bGVzaGVldCI+PC9oZWFkPiA8Ym9keT4gPG5vc2NyaXB0PklmIHlvdSdyZSBzZWVpbmcgdGhpcyBtZXNzYWdlLCB0aGF0IG1lYW5zIDxzdHJvbmc+SmF2YVNjcmlwdCBoYXMgYmVlbiBkaXNhYmxlZCBvbiB5b3VyIGJyb3dzZXI8L3N0cm9uZz4sIHBsZWFzZSA8c3Ryb25nPmVuYWJsZSBKUzwvc3Ryb25nPiB0byBtYWtlIEltZ3VyIHdvcmsuIDwvbm9zY3JpcHQ+IDxkaXYgaWQ9InJvb3QiPjwvZGl2PiA8c2NyaXB0IGNsYXNzPSJhYnAiIHNyYz0iaHR0cHM6Ly9zLmltZ3VyLmNvbS9taW4vcHguanM/Y2g9MSI+PC9zY3JpcHQ+IDxzY3JpcHQgY2xhc3M9ImFicCIgc3JjPSJodHRwczovL3MuaW1ndXIuY29tL21pbi9weC5qcz9jaD0yIj48L3NjcmlwdD4gPHNjcmlwdD4hZnVuY3Rpb24oZSx0LG4sbyxjLGEsZil7ZS5mYnF8fChjPWUuZmJxPWZ1bmN0aW9uKCl7Yy5jYWxsTWV0aG9kP2MuY2FsbE1ldGhvZC5hcHBseShjLGFyZ3VtZW50cyk6Yy5xdWV1ZS5wdXNoKGFyZ3VtZW50cyl9LGUuX2ZicXx8KGUuX2ZicT1jKSwoYy5wdXNoPWMpLmxvYWRlZD0hMCxjLnZlcnNpb249IjIuMCIsYy5xdWV1ZT1bXSwoYT10LmNyZWF0ZUVsZW1lbnQobikpLmFzeW5jPSEwLGEuc3JjPSIvL2Nvbm5lY3QuZmFjZWJvb2submV0L2VuX1VTL2ZiZXZlbnRzLmpzIiwoZj10LmdldEVsZW1lbnRzQnlUYWdOYW1lKG4pWzBdKS5wYXJlbnROb2RlLmluc2VydEJlZm9yZShhLGYpKX0od2luZG93LGRvY3VtZW50LCJzY3JpcHQiKSxmYnEoImluaXQiLCI3NDIzNzc4OTI1MzU1MzAiKSxmYnEoInRyYWNrIiwiUGFnZVZpZXciKSwiP3JlZyI9PT1kb2N1bWVudC5sb2NhdGlvbi5zZWFyY2gmJmZicSgidHJhY2siLCJDb21wbGV0ZVJlZ2lzdHJhdGlvbiIpPC9zY3JpcHQ+IDxub3NjcmlwdD48aW1nIGhlaWdodD0iMSIgd2lkdGg9IjEiIHN0eWxlPSJkaXNwbGF5Om5vbmUiIHNyYz0iaHR0cHM6Ly93d3cuZmFjZWJvb2suY29tL3RyP2lkPTc0MjM3Nzg5MjUzNTUzMCZldj1QYWdlVmlldyZub3NjcmlwdD0xIi8+PC9ub3NjcmlwdD4gPHNjcmlwdD52YXIgX2NvbXNjb3JlPV9jb21zY29yZXx8W107X2NvbXNjb3JlLnB1c2goe2MxOiIyIixjMjoiMjI0ODk1ODMifSksZnVuY3Rpb24oKXt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KCJzY3JpcHQiKSxlPWRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCJzY3JpcHQiKVswXTtjLmFzeW5jPSEwLGMuc3JjPSJodHRwczovL3NiLnNjb3JlY2FyZHJlc2VhcmNoLmNvbS9jcy8yMjQ4OTU4My9iZWFjb24uanMiLGUucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUoYyxlKX0oKTwvc2NyaXB0PiA8bm9zY3JpcHQ+PGltZyBzcmM9Imh0dHBzOi8vc2Iuc2NvcmVjYXJkcmVzZWFyY2guY29tL3A/YzE9MiZhbXA7YzI9MjI0ODk1ODMmYW1wO2N2PTMuNi4wJmFtcDtjaj0xIi8+PC9ub3NjcmlwdD4gPHNjcmlwdCBzcmM9Imh0dHBzOi8vcy5pbWd1ci5jb20vZGVza3RvcC1hc3NldHMvanMvbWFpbi41OGM1ZjM5YjM5ZTAzNTNiOWE1MC5qcyI+PC9zY3JpcHQ+PC9ib2R5PiA8L2h0bWw+IA==</xbar.image>
# <xbar.dependencies></xbar.dependencies>

if [[ $1 ]]; then
    cd ~/.ssh && pbcopy < "$1"
fi


# display icon
echo "|image=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";
echo "---"

# navigate to key directory (provide the location if the plugin doesn't work)
cd ~/.ssh || echo "Please configure ssh key location"
for filename in *.pub;do
    echo "${filename} | bash='$0' param1='${filename}' terminal=false"
done
