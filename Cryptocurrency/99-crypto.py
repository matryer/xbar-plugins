#!/usr/bin/env python
# coding=utf-8
"""
# <xbar.title>Crypto Ticker ($1USD)</xbar.title>
# <xbar.version>v2.0</xbar.version>
# <xbar.author>davidosomething</xbar.author>
# <xbar.author.github>davidosomething</xbar.author.github>
# <xbar.desc>
#   Displays current crypto/$1 from Coinmarketcap
# </xbar.desc>
# <xbar.image>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</xbar.image>
"""

import json
import urllib2

TICKERS = [
    {
        'symbol': 'btc',
        'sign': 'B',
    },
    {
        'symbol': 'eth',
        'sign': '𝚵',
    },
]

SYMBOLS = {
    'up': 'iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QAyQACAALwzIS'
          'XAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AQHACkSBTjB+AAAALNJREFUOM'
          'vVk70NAjEMhb87WYiGBZAQU7ABNSVSWpZgEEagsJDoKBELUCEKFuBuCKTw0xyQC0lIC'
          'e5i+/k9/wT+3opUUJQhcAUqa8I5ZQT4tANwioGTCkQZA9vmOQE2oUJFhL0DXBz33RpK'
          'UfCLfLTQJMx9IlEWuQr6QB3prGtNS1lwiMvEYo7ekNsKRBkB+y+rH1hDFVOwy7ids+g'
          'bVzrsM6CXeYDTF85xroB1ZoHb73ymB5RhJkpZTihGAAAAAElFTkSuQmCC',
    'down': 'iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAABmJLR0QABACnAADQ9'
            'FZaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH4AQHACQ1FZwK3gAAAMRJRE'
            'FUOMvNkjEKAjEQRZ+jKNjYKh5AbzCdjVcQj+BFPIKlp7EMeAJrUbASQVCEr80uG9c'
            'Nbqe/Cgn/5WUI/DqNfBHM+kCzbs+lPUAr2pwBq5qABbB+M8gszkDvS/kOdAG5VBgE'
            'M4ApsP0CGLukjxlEoA0wSZR3Lo0qhxhZDIBDAmDA0wsBLD51CZeOwLKivHbprZx6A'
            'kAHuEXbD5fawYwywMqAzOKeDTTPvKqcTGZBMLsGs0utn5gADYEHcKp9e9ni//MCDt'
            'NCE3qjsIwAAAAASUVORK5CYII=',
}


def main():
    """
    Display movement icon, symbol, price
    """

    for ticker in TICKERS:
        currency = 'usd'
        symbol = ticker['symbol']

        """cryptomate
        """
        currency = currency.upper()
        symbol = symbol.upper()
        api_base = 'https://cryptomate.co.uk/api/'
        url = api_base + symbol + '/' + currency

        """coinmarketcap
        api_base = 'https://coinmarketcap-nexuist.rhcloud.com/api/'
        url = api_base + symbol
        """

        request = urllib2.Request(url)
        response = urllib2.urlopen(request).read()
        result = json.loads(response)

        """cryptomate
        """
        value = float(result[symbol]['price'])
        is_up = result[symbol]['change'] > 0

        """coinmarketcap
        value = float(result['price']['usd'])
        is_up = result['change'] > 0
        """

        # symbol = SYMBOLS['up' if result['change'] > 0 else 'down']
        if is_up:
            symbol = ':chart_with_upwards_trend: '
        else:
            symbol = ':chart_with_downwards_trend: '
        output = ''.join((
            # ' ',
            symbol,
            ticker['sign'],
            '%.2f',
            ' | size=12'
            # '| image=', symbol,
            # ' color=#000000'
        ))
        print(output % value)

    print('---')
    print('Refresh | refresh=true')


if __name__ == "__main__":
    main()
